"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getTransactionId;

var _models = require("../../../models");

var _useCases = require("../../i18n/useCases");

function getTransactionId(certificateReceipt = {}) {
  try {
    const {
      anchors
    } = certificateReceipt;
    const anchor = anchors[0];

    if (anchor.sourceId) {
      return anchor.sourceId;
    }

    if (typeof anchor === 'string') {
      const dataArray = anchor.split(':');
      return dataArray.pop();
    }
  } catch (err) {
    throw new _models.VerifierError('', (0, _useCases.getText)('errors', 'getTransactionId'));
  }
}