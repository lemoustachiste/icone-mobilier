"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = resolve;

require("core-js/modules/es.promise.js");

var _explorerLookup = require("@blockcerts/explorer-lookup");

var _didResolver = _interopRequireDefault(require("../valueObjects/didResolver"));

async function resolve(didUri, didResolverUrl = _didResolver.default.url) {
  const universalResolverResponse = await (0, _explorerLookup.request)({
    url: `${didResolverUrl}/${didUri}`
  });
  const parsedUniversalResolverResponse = JSON.parse(universalResolverResponse);
  return parsedUniversalResolverResponse.didDocument;
}