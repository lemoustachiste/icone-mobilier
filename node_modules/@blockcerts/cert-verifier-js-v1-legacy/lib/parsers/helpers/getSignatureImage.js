"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = getSignatureImages;

var _models = require("../../models");

var _constants = require("../../constants");

/**
 * _getSignatureImages
 *
 * @param signatureRawObject
 * @param certificateVersion
 * @returns {Array}
 * @private
 */
function getSignatureImages(signatureRawObject, certificateVersion) {
  const signatureImageObjects = [];

  switch (certificateVersion) {
    case _constants.CERTIFICATE_VERSIONS.V1_1:
    case _constants.CERTIFICATE_VERSIONS.V1_2:
      if (signatureRawObject.constructor === Array) {
        for (const index in signatureRawObject) {
          const signatureLine = signatureRawObject[index];
          const jobTitle = 'jobTitle' in signatureLine ? signatureLine.jobTitle : null;
          const signerName = 'name' in signatureLine ? signatureLine.name : null;
          const signatureObject = new _models.SignatureImage(signatureLine.image, jobTitle, signerName);
          signatureImageObjects.push(signatureObject);
        }
      } else {
        const signatureObject = new _models.SignatureImage(signatureRawObject, null, null);
        signatureImageObjects.push(signatureObject);
      }

      break;

    case _constants.CERTIFICATE_VERSIONS.V2_0:
      for (const index in signatureRawObject) {
        const signatureLine = signatureRawObject[index];
        const signatureObject = new _models.SignatureImage(signatureLine.image, signatureLine.jobTitle, signatureLine.name);
        signatureImageObjects.push(signatureObject);
      }

      break;
  }

  return signatureImageObjects;
}